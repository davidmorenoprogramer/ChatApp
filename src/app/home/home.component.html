<div class="chat-app-container">

    <div class="contactsAndMenu">
      <mat-toolbar  class="chat-header">
        <span class="apptitle">Chat App</span>
        <!-- Espacio flexible para alinear el contenido -->
        <div class="logout-button" >
          <button class="buttonconfig" [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" class="mat-menu-panel">
              <button mat-menu-item>
                  <mat-icon class="icon">settings</mat-icon>
                  <span class="menuItemText">Settings</span>
              </button>
            <button mat-menu-item (click)="Logout()">
              <mat-icon class="icon">exit_to_app</mat-icon>
              <span class="menuItemText">Logout</span>
            </button>
          </mat-menu>
        </div>
      </mat-toolbar>
       <!-- search -->
      <mat-form-field class="search">
        <input matInput placeholder="buscar constactos" [formControl]="searchControl" [matAutocomplete]="users"/>
      </mat-form-field>
      <mat-autocomplete #users="matAutocomplete">
        <mat-option *ngFor="let user of users$ | async" (click)= "createChat(user)" >{{ user?.displayName }}</mat-option>
      </mat-autocomplete>

       <!-- Chats Activos-->
      <div class="scrollcontactos">
        <mat-selection-list class="listaContactos" [formControl]="chatListControl" [multiple]="false" hideSingleSelectionIndicator>
          <mat-divider></mat-divider>
          <mat-list-option *ngFor="let chat of myChats$ | async" class="contact-item" [value]="chat.id">
            <div style="display: flex; flex-direction: row;  height: 100%; width: 100%;  align-items: center;" >
              <img src="https://st2.depositphotos.com/3895623/5589/v/450/depositphotos_55896913-stock-illustration-usershirt.jpg" class="avatar">
              <div class="messageColum">
                <div class="chat-info">
                  <mat-card-title class="nameChat">{{ chat.chatName }}</mat-card-title>
                  <mat-card-subtitle class="dateChat" >{{ chat.lastMessageDate}}</mat-card-subtitle>
                </div>
                <p class="messageContact">{{ chat.lastMessage }}</p>
              </div>
  
  
            </div>
  
          
            
          </mat-list-option>
        </mat-selection-list>

      </div>
      
    </div>
    <div class="chat-section" >
      <!-- SecciÃ³n de chat -->
      <div class="chat-body" *ngIf="selectedChat$ | async as selectedChat">
        
          <!-- header -->
          <div class="chat-message-header">
            <h2 class="chat-header-name">{{selectedChat.chatName}}</h2>
          </div>
           <!-- chat area -->
          <div class="chat-area"></div>
          <div class="input">
            <input class="message-input"  placeholder="Escribe un mensaje">
            <button class="sendButton" mat-icon-button matSuffix>
              <mat-icon>send</mat-icon>
            </button>
          </div>
          
          
      </div>
      
    
  </div>
    
</div>
  